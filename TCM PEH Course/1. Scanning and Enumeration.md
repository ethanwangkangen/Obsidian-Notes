Passive recon
- Physical/Social
	- Location info, Job info
- Web.Host
	- Target validation
		- whois, nslookup, dnsrecon
	- Finding subdomains
		- Google Fu, dig, nmap, sublist3r, bluto, crt.sh
	- Fingerprinting
		- nmap, wallapyzer, whatweb, builtwith, netcat
	- Data breaches
		- haveibeenpwned, breach-parse, weleakinfo


Finding target
- bugcrowd.com

Discovering Email Addresses
- hunter.io
- phonebook.cz
- voilanorbert.com
- clearbit google extension
- https://tools.emailhippo.com/
- google password recovery

Gathering breached credentials
- breach-parse from hmaverickadams github
- dehashed

Hunting subdomains
- sublist3r tool
- crt.sh website
	- uses certificate fingerprinting
	- eg. %.tesla.com
- owasp amass

Identifying web technologies
- builtwith.com
- wappalyzer online tool
- whatweb tool

Info gathering with Burp suite
- Kali App
- web proxy, can intercept traffic
- Firefox: 
	- Network settings
	- Change manual proxy to 127.0.0.1 (loopback address), port 8080
	- https://burp, then save the ca file. import the ca cert into firefox.
		- To let firefox trust the PortSwigger Certificate Authority, which in turn will verify the sites
- Can turn "intercept" on to intercept all HTTP(S) responses

Googling:
- site:tesla.com filtype:pdf -www



# Kali
- Running the vm
	- sudo vmware
- Becoming root
	- sudo su
# Scanning with nmap

Finding own ip address
- ifconfig

Finding other devices on network
- arp-scan -l
- netdiscover

Scanning
- nmap
	- -sS: "stealthy" - SYN SYNACK RST
- nmap -T4 -p- -A

# Enumeration
- See which ports look better to attack
	- ssh more secure
	- SMB looks more exploitable
- Machine is running a https server or port 443
	- when i type the machine ip into web browser, it assumes the default port 443 (for https) and shows the webpage
- HTTPS enumeration
	- try different directories, eg. /admin..
	- nikto -h http://172.16.232.129/
		- scan web server for known vulnerabilities
		- directory busting
	- dirbuster
		- word list found in /usr/share/wordlists/dirbuster/...
		- used to brute force directories
	- gobuster
	- view page source
	- burp suite
		- server headers disclose version info

Methodology
- website
	- looking for
		- service version information
		- backend directories
		- soruce code
		- vulnerabliity scanning with nikto

Enumerating SMB
- Found SMB port but couldn't find version number
- Want to find version number with metasploit

Metasploit
- msfconsole
- search smb
	- 396  auxiliary/scanner/smb/smb_version   
- use 396 / use auxiliary/scanner/smb/smb_version   
- info
- options
	- set RHOSTS (ip)
- run
	- found that Samba 2.2.1a

smbclient
- smbclient -L \\\172.16.232.129 
	- two backslashes


Enumerating SSH
- usually, just SSH (ip)
- but this box is old so need
	- ssh (ip) -oKexAlgorithms=+diffie-hellman-group1-sha1 -c aes128-cbc
- sometimes this gives version number with a banner

# Researching vulnerabilities
- Google
- searchsploit
- nessus
	- unpack with dpkg -i Nessus.....deb
	- /bin/systemctl start nessusd.service
	- then go to the ewebpage 